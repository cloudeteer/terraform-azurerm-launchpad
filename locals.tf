locals {
  grant_access_to_azure_principal_id = (
    var.grant_access_to_azure_principal_id == null ?
    data.azurerm_client_config.current.object_id :
    var.grant_access_to_azure_principal_id
  )
  default_location_short = {
    asia               = "asia"
    asiapacific        = "apac"
    australia          = "aus"
    australiacentral   = "auc"
    australiacentral2  = "auc2"
    australiaeast      = "aue"
    australiasoutheast = "ause"
    brazil             = "bra"
    brazilsouth        = "brs"
    brazilsoutheast    = "brse"
    canada             = "can"
    canadacentral      = "cac"
    canadaeast         = "cae"
    centralindia       = "inc"
    centralus          = "usc"
    chinaeast          = "cne"
    chinaeast2         = "cne2"
    chinaeast3         = "cne3"
    chinanorth         = "cnn"
    chinanorth2        = "cnn2"
    chinanorth3        = "cnn3"
    eastasia           = "asea"
    eastus             = "use"
    eastus2            = "use2"
    europe             = "eu"
    francecentral      = "frc"
    francesouth        = "frs"
    germanycentral     = "gce"
    germanynorth       = "gno"
    germanynortheast   = "gne"
    germanywestcentral = "gwc"
    global             = "glob"
    india              = "ind"
    israelcentral      = "ilc"
    italynorth         = "itn"
    japan              = "jap"
    japaneast          = "jpe"
    japanwest          = "jpw"
    korea              = "kor"
    koreacentral       = "krc"
    koreasouth         = "krs"
    northcentralus     = "usnc"
    northeurope        = "eun"
    norway             = "nor"
    norwayeast         = "noe"
    norwaywest         = "now"
    polandcentral      = "polc"
    qatarcentral       = "qatc"
    singapore          = "sgp"
    southafricanorth   = "san"
    southafricawest    = "saw"
    southcentralus     = "ussc"
    southeastasia      = "asse"
    southindia         = "ins"
    sweden             = "swe"
    swedencentral      = "swec"
    swedensouth        = "swes"
    switzerlandnorth   = "swn"
    switzerlandwest    = "sww"
    uaecentral         = "uaec"
    uaenorth           = "uaen"
    uk                 = "uk"
    uksouth            = "uks"
    ukwest             = "ukw"
    unitedstates       = "us"
    westcentralus      = "uswc"
    westeurope         = "euw"
    westindia          = "inw"
    westus             = "usw"
    westus2            = "usw2"
    westus3            = "usw3"
  }
  location_short = merge(local.default_location_short, var.location_short)
}
